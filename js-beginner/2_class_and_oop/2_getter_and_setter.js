/**
 * ==========================================
 * JavaScript Getter & Setter ì™„ë²½ ì •ë¦¬ (2026ë…„ ìµœì‹ )
 * ==========================================
 *
 * [í•µì‹¬ ìš”ì•½]
 * 1. Getter (get): ë°ì´í„°ë¥¼ 'ê°€ì ¸ì˜¬ ë•Œ' ì‚¬ìš© (ì½ê¸° ì „ìš© ì†ì„±ì²˜ëŸ¼ ë³´ì„)
 * 2. Setter (set): ë°ì´í„°ë¥¼ 'ë°”ê¿€ ë•Œ' ì‚¬ìš© (ê²€ì¦ ë¡œì§ ì¶”ê°€ ê°€ëŠ¥)
 * 3. ìµœê·¼ íŠ¸ë Œë“œ: Setterë³´ë‹¤ëŠ” 'ë¶ˆë³€ì„±(Immutability)'ì„ ì„ í˜¸í•˜ì—¬ ì˜ ì•ˆ ì“°ëŠ” ì¶”ì„¸
 */

// ==========================================
// [ì´ˆê¸‰] ê¸°ë³¸ ë¬¸ë²• (Computed Property) â­
// ==========================================
console.log('=== [ì´ˆê¸‰] ê¸°ë³¸ ë¬¸ë²• ===');

class IdolModel {
   name;
   year;

   constructor(name, year) {
      this.name = name;
      this.year = year;
   }

   /**
    * Getter
    * 1. í•¨ìˆ˜ì²˜ëŸ¼ ì •ì˜í•˜ì§€ë§Œ, 'ë³€ìˆ˜'ì²˜ëŸ¼ ì‚¬ìš©í•œë‹¤. (ê´„í˜¸ () ì—†ìŒ)
    * 2. ê¸°ì¡´ ë°ì´í„°ë¥¼ ê°€ê³µí•´ì„œ ìƒˆë¡œìš´ ê°’ì„ ë±‰ì„ ë•Œ ìœ ìš©í•¨.
    */
   get nameAndYear() {
      return `${this.name}-${this.year}`;
   }

   /**
    * Setter
    * 1. ê°’ì„ í• ë‹¹(=)í•  ë•Œ ì‹¤í–‰ëœë‹¤.
    * 2. ë¬´ì¡°ê±´ íŒŒë¼ë¯¸í„°ê°€ 1ê°œ ìˆì–´ì•¼ í•œë‹¤.
    */
   set setName(name) {
      console.log('Setterê°€ ì‹¤í–‰ë¨!');
      this.name = name;
   }
}

const yuJin = new IdolModel('ì•ˆìœ ì§„', 2003);

// í•¨ìˆ˜ í˜¸ì¶œ()ì´ ì•„ë‹ˆë¼ ë³€ìˆ˜ì²˜ëŸ¼ ì ‘ê·¼
console.log(yuJin.nameAndYear);

// ë³€ìˆ˜ì— ê°’ì„ ë„£ë“¯ì´ ì‚¬ìš©
yuJin.setName = 'ì¥ì›ì˜';
console.log(yuJin.name);

console.log('='.repeat(40));

// ==========================================
// [ì¤‘ê¸‰] Private í•„ë“œ(#)ì™€ ìº¡ìŠí™” ğŸ”¥
// ==========================================
console.log('\n=== [ì¤‘ê¸‰] Private í•„ë“œì™€ ë³´í˜¸ ===');

/**
 * ì™¸ë¶€ì—ì„œ í•¨ë¶€ë¡œ ê°’ì„ ë°”ê¾¸ì§€ ëª»í•˜ê²Œ #privateì„ ì“°ê³ 
 * Getter/Setterë¥¼ í†µí•´ì„œë§Œ ì ‘ê·¼í•˜ê²Œ ë§Œë“œëŠ” íŒ¨í„´ (ìº¡ìŠí™”)
 */

class IdolPrivate {
   #name; // Private field
   year;

   constructor(name, year) {
      this.#name = name;
      this.year = year;
   }

   // ì™¸ë¶€ì—ì„œëŠ” .nameìœ¼ë¡œ ì ‘ê·¼í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” #nameì„ ê°€ì ¸ì˜´
   get name() {
      return this.#name;
   }

   // Setterì—ì„œ ê°’ ê²€ì¦(Validation)ì„ í•  ìˆ˜ ìˆìŒ! â­â­
   set name(newName) {
      if (newName.length < 2) {
         console.log('âŒ ì´ë¦„ì€ 2ê¸€ì ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤!');
         return;
      }
      console.log(`âœ… ì´ë¦„ì„ ${newName}(ìœ¼)ë¡œ ë³€ê²½í•©ë‹ˆë‹¤.`);
      this.#name = newName;
   }
}

const wonYoung = new IdolPrivate('ì¥ì›ì˜', 2004);

console.log(wonYoung.name); // Getter í˜¸ì¶œ

// Setterì˜ ì§„ì§œ ìš©ë„: ì´ìƒí•œ ê°’ ë°©ì–´
wonYoung.name = 'ê¹€'; // âŒ ê±°ì ˆë¨
wonYoung.name = 'ì½”ë“œíŒ©í† ë¦¬'; // âœ… ë³€ê²½ë¨

console.log('='.repeat(40));

// ==========================================
// [ì‹¤ë¬´] Setterë¥¼ ì•ˆ ì“°ëŠ” ì´ìœ  (ë¶ˆë³€ì„±) ğŸ”¥ğŸ”¥ğŸ”¥
// ==========================================
console.log('\n=== [ì‹¤ë¬´] ì™œ Setterë¥¼ ê¸°í”¼í• ê¹Œ? ===');

/**
 * Q: ì„¸í„°ëŠ” ì•ˆ ì“°ëŠ” ê±° ì¶”ì²œ?
 * A: ë„¤, íŠ¹íˆ React/Redux ê°™ì€ ëª¨ë˜ í”„ë ˆì„ì›Œí¬ì—ì„œëŠ” 'ë¹„ì¶”ì²œ'ì…ë‹ˆë‹¤.
 *
 * ì´ìœ  1. ì¶”ì ì˜ ì–´ë ¤ì›€:
 *    yuJin.name = 'ê°’'; ì´ë¼ê³  ì¼ëŠ”ë°, ë‚´ë¶€ì—ì„œ ë¡œê·¸ ì°ê³ ,
 *    DB ë³´ë‚´ê³ , ë‹¤ë¥¸ ê°’ ë°”ê¾¸ê³ ... ì‚¬ì´ë“œ ì´í™íŠ¸ê°€ ìƒê¸°ë©´ ë””ë²„ê¹…ì´ í˜ë“¦.
 *
 * ì´ìœ  2. ë¶ˆë³€ì„±(Immutability) ìœ„ë°˜:
 *    ê°ì²´ì˜ ë‚´ìš©ì„ ë°”ê¾¸ëŠ” ê²ƒ(Mutation)ë³´ë‹¤,
 *    ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ê²ƒì„ ì„ í˜¸í•¨.
 */

// âŒ Setterë¥¼ ì‚¬ìš©í•œ ë°©ì‹ (ì›ë³¸ ë³€ê²½)
const idol1 = new IdolModel('ê°€ì„', 2002);
idol1.setName = 'ê¹€ê°€ì„'; // ì›ë³¸ì´ ë°”ë€œ

// âœ… ëª¨ë˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë°©ì‹ (ë³µì‚¬ í›„ ë³€ê²½)
const idol2 = new IdolModel('ë ˆì´', 2004);

const newIdol = {
   ...idol2, // ê¸°ì¡´ ê°’ ë³µì‚¬
   name: 'ë‚˜ì˜¤ì´ ë ˆì´', // ë°”ê¿€ ê°’ë§Œ ë®ì–´ì“°ê¸°
};

console.log('ì›ë³¸:', idol2.name); // ë ˆì´
console.log('ìƒˆê°ì²´:', newIdol.name); // ë‚˜ì˜¤ì´ ë ˆì´
console.log('ê°™ì€ê°ì²´ì¸ê°€?', idol1 === newIdol); // false (ë…ë¦½ì )

console.log('='.repeat(40));

/**
 * ==========================================
 * ğŸ”¥ í•µì‹¬ ê²°ë¡  (Setter ì“¸ê¹Œ ë§ê¹Œ?)
 * ==========================================
 *
 * 1. ì–¸ì œ ì“°ë‚˜ìš”? (Setter O)
 *    - í´ë˜ìŠ¤ ë‚´ë¶€ì—ì„œ ë°ì´í„° ë¬´ê²°ì„±ì„ ê²€ì¦í•´ì•¼ í•  ë•Œ (ì˜ˆ: ë‚˜ì´ëŠ” ìŒìˆ˜ ë¶ˆê°€).
 *    - ì¼ë°˜ì ì¸ OOP(Java, C# ìŠ¤íƒ€ì¼) ë°±ì—”ë“œ ê°œë°œì„ í•  ë•Œ.
 *    - ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ë§Œë“¤ì–´ì„œ ì‚¬ìš©ìì—ê²Œ ê¹”ë”í•œ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•  ë•Œ.
 *
 * 2. ì–¸ì œ ì•ˆ ì“°ë‚˜ìš”? (Setter X)
 *    - React, Vue ë“± ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì“¸ ë•Œ.
 *    - ë°ì´í„°ì˜ ë³€ê²½ íë¦„ì„ ëª…í™•í•˜ê²Œ í•˜ê³  ì‹¶ì„ ë•Œ.
 *    - ê·¸ëƒ¥ ë‹¨ìˆœí•˜ê²Œ ë°ì´í„°ë¥¼ ë‹´ëŠ” ìš©ë„(DTO)ì¼ ë•Œ.
 *
 * ğŸ‘‰ íŒ: GetterëŠ” ë°ì´í„°ë¥¼ ê°€ê³µí•´ì„œ ë³´ì—¬ì¤„ ë•Œ(computed) ìì£¼ ì“°ì§€ë§Œ,
 *       SetterëŠ” ê¼­ í•„ìš”í•œ ê²€ì¦ ë¡œì§ì´ ì—†ë‹¤ë©´ êµ³ì´ ë§Œë“¤ì§€ ì•ŠëŠ” ì¶”ì„¸ì…ë‹ˆë‹¤.
 */
