/**
 * =====================================================================
 * TypeScript: Enum íƒ€ìž… - í•™ìŠµ+ì‹¤ë¬´ í…œí”Œë¦¿ (Executable Note)
 * =====================================================================
 * Recommended filename: 05_enum.ts
 *
 * âœ… Keynote (í•µì‹¬ì •ë¦¬ ë¨¼ì €) â­ðŸ”¥
 * - enumì€ â€œì •í•´ì§„ ì„ íƒì§€ ì§‘í•©â€ì— ì´ë¦„ì„ ë¶™ì—¬ ì•ˆì „í•˜ê²Œ ì“°ëŠ” ë¬¸ë²•
 * - ìˆ«ìž enumì€ ëŸ°íƒ€ìž„ì— ê°ì²´ë¡œ ìƒì„±ë˜ê³ (Reverse Mapping í¬í•¨) ë²ˆë“¤ì— ë‚¨ì„ ìˆ˜ ìžˆìŒ ðŸ”¥
 * - ë¬¸ìžì—´ enumì€ Reverse Mappingì´ ì—†ì–´ì„œ ì˜ˆì¸¡ ê°€ëŠ¥ì„±ì´ ë” ë†’ìŒ â­
 * - ìµœì‹  ì‹¤ë¬´ì—ì„œëŠ” enum ëŒ€ì‹  `ë¦¬í„°ëŸ´ ìœ ë‹ˆì˜¨ + as const`ë¥¼ ì„ í˜¸í•˜ëŠ” íŒ€ë„ ë§ŽìŒ ðŸ”¥
 */

console.clear?.();

// ---------------------------------------------------------------------
// [Utility] ì¶œë ¥ í¬ë§·(í•™ìŠµ ê°€ë…ì„±)
// ---------------------------------------------------------------------
const line = (n = 70) => '='.repeat(n);
const section = (title: string) => {
   console.log(`\n${line()}\nâ–¶ ${title}\n${line()}`);
};

// =====================================================================
// 1) [ì´ˆê¸‰] enum ê¸°ë³¸: "ì •í•´ì§„ ê°’ë“¤ì˜ ëª©ë¡"ì— ì´ë¦„ ë¶™ì´ê¸°
// =====================================================================
{
   section('1. [ì´ˆê¸‰] enum ê¸°ë³¸');

   // âœ… ìˆ«ìž enum: ê°’ì´ ìžë™ìœ¼ë¡œ 0,1,2...ë¡œ ë¶€ì—¬ë¨
   // - ìž¥ì : ìž…ë ¥ì´ ê°„ë‹¨
   // - ë‹¨ì : ë””ë²„ê¹… ì‹œ ìˆ«ìžë§Œ ë³´ì´ë©´ ì˜ë¯¸ê°€ íë ¤ì§ˆ ìˆ˜ ìžˆìŒ
   enum Role {
      ADMIN, // 0
      USER, // 1
      GUEST, // 2
   }

   // âœ… enum ê°’ ì‚¬ìš©(ì˜¤íƒ€/ìž„ì˜ ë¬¸ìžì—´ì„ ì›ì²œ ì°¨ë‹¨)
   const roleA: Role = Role.ADMIN;
   const roleB: Role = Role.USER;

   console.log('Role.ADMIN:', roleA);
   console.log('Role.USER :', roleB);
}

// =====================================================================
// 2) [ì¤‘ê¸‰] ë¬¸ìžì—´ enum: ë¡œê·¸/ë””ë²„ê¹…/ì§ë ¬í™”ì— ìœ ë¦¬ â­
// =====================================================================
{
   section('2. [ì¤‘ê¸‰] ë¬¸ìžì—´ enum (ì¶”ì²œ â­)');

   // âœ… ë¬¸ìžì—´ enum: ê°’ì´ ëª…ì‹œì ì´ë¼ ì˜ˆì¸¡ ê°€ëŠ¥
   // - ë„¤íŠ¸ì›Œí¬ ì „ì†¡/ë¡œê¹…/ìŠ¤í† ë¦¬ì§€ ì €ìž¥ì— ìœ ë¦¬ â­
   enum Language {
      KOREAN = 'ko',
      ENGLISH = 'en',
      JAPANESE = 'jp',
   }

   // âœ… ê°ì²´ ëª¨ë¸ë§(ëŒ€ë¬¸ìž enum, ì†Œë¬¸ìž í”„ë¡œí¼í‹° ê¶Œìž¥)
   type User = {
      id: number;
      name: string;
      role: 'admin' | 'user' | 'guest'; // ðŸ”¥ ì‹¤ë¬´ ëŒ€ì•ˆ(ë¦¬í„°ëŸ´ ìœ ë‹ˆì˜¨)
      language: Language; // enumìœ¼ë¡œ ì œí•œ
   };

   const user1: User = {
      id: 0,
      name: 'ì‹ ìž¬ì¤€',
      role: 'admin',
      language: Language.KOREAN,
   };

   console.log('user1:', user1);
   console.log('language value:', user1.language);
}

// =====================================================================
// 3) [ê³ ê¸‰] ìˆ«ìž enumì˜ Reverse Mapping(ì—­ë§¤í•‘) ðŸ”¥
// =====================================================================
{
   section('3. [ê³ ê¸‰] ìˆ«ìž enum Reverse Mapping ðŸ”¥');

   enum Status {
      IDLE, // 0
      LOADING, // 1
      SUCCESS, // 2
      ERROR, // 3
   }

   // âœ… ìˆ«ìž enumì€ ëŸ°íƒ€ìž„ì— "ì–‘ë°©í–¥" ë§¤í•‘ì´ ìƒê¹€
   // - Status.IDLE -> 0
   // - Status[0] -> 'IDLE'
   console.log('Status.IDLE:', Status.IDLE);
   console.log('Status[0]  :', Status[0]);

   // âš ï¸ í¬ì¸íŠ¸: ì´ reverse mapping ë•Œë¬¸ì— ë²ˆë“¤ ìµœì í™”(íŠ¸ë¦¬ì‰ì´í‚¹)ì—ì„œ ë¶ˆë¦¬í•  ìˆ˜ ìžˆìŒ
}

// =====================================================================
// 4) [ì‹¤ë¬´íŒ¨í„´] enum ëŒ€ì‹  "ë¦¬í„°ëŸ´ ìœ ë‹ˆì˜¨ + as const" (ìµœì‹  íŒ€ ì„ í˜¸) â­ðŸ”¥
// =====================================================================
{
   section('4. [ì‹¤ë¬´íŒ¨í„´] union + as const ëŒ€ì•ˆ â­ðŸ”¥');

   // âœ… ê°’ê³¼ íƒ€ìž…ì„ ë™ì‹œì— ì–»ëŠ” íŒ¨í„´
   // - ëŸ°íƒ€ìž„ ê°ì²´(ê°’) + íƒ€ìž… ì•ˆì „(í‚¤/ê°’ ì œí•œ)ì„ ê°™ì´ ê°€ì ¸ê°
   const ROLES = {
      ADMIN: 'admin',
      USER: 'user',
      GUEST: 'guest',
   } as const;

   // ðŸ”¥ typeof + keyof + indexed accessë¡œ "ê°’ ìœ ë‹ˆì˜¨" íƒ€ìž… ë§Œë“¤ê¸°
   type RoleValue = (typeof ROLES)[keyof typeof ROLES];

   const setRole = (role: RoleValue) => {
      console.log('setRole ->', role);
   };

   setRole(ROLES.ADMIN);
   // setRole('manager'); // âŒ í—ˆìš©ë˜ì§€ ì•ŠëŠ” ê°’

   console.log('ROLES object:', ROLES);
}

// =====================================================================
// ðŸ›¡ï¸ ë°©ì–´ì  ì½”ë”©: enum í•¨ì •/ì£¼ì˜ì‚¬í•­
// =====================================================================
{
   section('ðŸ›¡ï¸ ë°©ì–´ì  ì½”ë”©: í•¨ì • & ì£¼ì˜ì‚¬í•­');

   /**
    * 1) ìˆ«ìž enumì€ reverse mappingì´ ìƒê²¨ ëŸ°íƒ€ìž„ ê°ì²´ê°€ ì»¤ì§ˆ ìˆ˜ ìžˆìŒ
    *    - ë²ˆë“¤/íŠ¸ë¦¬ì‰ì´í‚¹ì— ë¶ˆë¦¬í•  ìˆ˜ ìžˆì–´ ë¬¸ìžì—´ enum ë˜ëŠ” union íŒ¨í„´ì„ ê³ ë ¤ â­
    */

   /**
    * 2) enum ê°’ì€ ëŸ°íƒ€ìž„ì—ì„œ "ê²€ì¦"ì„ í•´ì£¼ì§„ ì•ŠìŒ
    *    - API ì‘ë‹µì´ 'ko'ê°€ ì•„ë‹ˆë¼ 'kr'ë¡œ ì˜¤ë©´ TSëŠ” ëŸ°íƒ€ìž„ì—ì„œ ë§‰ì§€ ëª»í•¨
    *    - ëŸ°íƒ€ìž„ ë°ì´í„°ëŠ” ë³„ë„ validationì´ í•„ìš” ðŸ›¡ï¸
    */

   /**
    * 3) ts-node ì‹¤í–‰ ì‹œ í™˜ê²½ì— ë”°ë¼ enumì´ ì—ëŸ¬ë‚˜ëŠ” ê²½ìš°ê°€ ìžˆìŒ
    *    - Nodeì˜ strip-only TS ëª¨ë“œì—ì„œëŠ” enum ê°™ì€ ë³€í™˜ ë¬¸ë²•ì´ ì§€ì›ë˜ì§€ ì•Šì„ ìˆ˜ ìžˆìŒ
    *    - í•´ê²°: `npx tsc`ë¡œ ì»´íŒŒì¼ í›„ `node dist/...` ì‹¤í–‰ ë˜ëŠ” `tsx` ì‚¬ìš© â­
    */

   /**
    * 4) enum ë©¤ë²„ ë„¤ì´ë°
    *    - enum: PascalCase(Language)
    *    - ë©¤ë²„: UPPER_SNAKE_CASE ë˜ëŠ” UPPERCASE(KOREAN)
    *    - ê°ì²´ í”„ë¡œí¼í‹°: lowerCamelCase(language)
    */

   console.log('âœ… ë°©ì–´ ì„¹ì…˜ ì²´í¬ ì™„ë£Œ');
}

// =====================================================================
// âœ… ë³µìŠµ í•µì‹¬ì •ë¦¬ (10~12ê°œ)
// =====================================================================
{
   section('âœ… ë³µìŠµ í•µì‹¬ì •ë¦¬ (10~12ê°œ)');

   const recap = [
      '1) enumì€ ì œí•œëœ ì„ íƒì§€ ì§‘í•©ì— ì´ë¦„ì„ ë¶™ì—¬ íƒ€ìž… ì•ˆì „í•˜ê²Œ ì“´ë‹¤. â­',
      '2) ìˆ«ìž enumì€ 0,1,2... ìžë™ í• ë‹¹ë˜ë©° ë””ë²„ê¹… ì‹œ ì˜ë¯¸ê°€ íë¦´ ìˆ˜ ìžˆë‹¤.',
      '3) ë¬¸ìžì—´ enumì€ ê°’ì´ ëª…ì‹œì ì´ë¼ ë¡œê¹…/ì „ì†¡/ì €ìž¥ì— ìœ ë¦¬í•˜ë‹¤. â­',
      '4) ìˆ«ìž enumì€ reverse mapping(Status[0] -> "IDLE")ì´ ìƒê¸´ë‹¤. ðŸ”¥',
      '5) reverse mappingì€ ë²ˆë“¤ ìµœì í™”ì— ë¶ˆë¦¬í•  ìˆ˜ ìžˆì–´ ì„ íƒì´ í•„ìš”í•˜ë‹¤. ðŸ›¡ï¸',
      '6) enumì€ ëŸ°íƒ€ìž„ ë°ì´í„° ê²€ì¦ì„ í•´ì£¼ì§€ ì•ŠëŠ”ë‹¤(API ì‘ë‹µì€ ë³„ë„ ê²€ì¦). ðŸ›¡ï¸',
      '7) ìµœì‹  ì‹¤ë¬´ì—ì„  enum ëŒ€ì‹  ë¦¬í„°ëŸ´ ìœ ë‹ˆì˜¨ì„ ì“°ëŠ” íŒ€ì´ ë§Žë‹¤. ðŸ”¥',
      '8) union + as constëŠ” ê°’(ê°ì²´)ê³¼ íƒ€ìž…(ìœ ë‹ˆì˜¨)ì„ ë™ì‹œì— ì–»ëŠ” íŒ¨í„´ì´ë‹¤. â­',
      '9) typeof/keyof/indexed accessë¡œ ìœ ë‹ˆì˜¨ íƒ€ìž…ì„ ë½‘ì•„ë‚¼ ìˆ˜ ìžˆë‹¤. ðŸ”¥',
      '10) ë„¤ì´ë° ê·œì¹™(enum/ë©¤ë²„/í”„ë¡œí¼í‹°)ì„ í†µì¼í•˜ë©´ ìœ ì§€ë³´ìˆ˜ê°€ ì‰¬ì›Œì§„ë‹¤. ðŸ›¡ï¸',
      '11) ì‹¤í–‰ì€ `npx tsc` í›„ `node dist/...`ê°€ ê°€ìž¥ ì•ˆì •ì ì´ë‹¤. â­',
      '12) íŒ€ ì»¨ë²¤ì…˜ì— ë”°ë¼ enum ì‚¬ìš© ì—¬ë¶€ë¥¼ ì •í•˜ê³  ì¼ê´€ë˜ê²Œ ìœ ì§€í•˜ìž. ðŸ›¡ï¸',
   ];

   recap.forEach((item) => console.log(item));
}

console.log(`\n${line()}\nâœ… 05 Enum Executable Note DONE\n${line()}`);
