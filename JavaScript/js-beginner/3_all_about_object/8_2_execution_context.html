<!doctype html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>8_2 Execution Context - multiply() íë¦„</title>
      <style>
         body {
            font-family:
               system-ui,
               -apple-system,
               Segoe UI,
               Roboto,
               Helvetica,
               Arial,
               sans-serif;
            padding: 24px;
            line-height: 1.6;
         }
         code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 6px;
         }
         .hint {
            opacity: 0.8;
         }
      </style>
   </head>
   <body>
      <h1>Execution Context & Call Stack (multiply ì˜ˆì œ)</h1>
      <p class="hint">ì½˜ì†”ì„ ì—´ì–´(F12) ì‹¤í–‰ íë¦„ì„ í™•ì¸í•˜ì„¸ìš”.</p>

      <script>
         /* =====================================================================
          * Execution Context & Call Stack - ì´í•´ ì¤‘ì‹¬ í…œí”Œë¦¿ (2026)
          * =====================================================================
          * [ë§¨ ìœ„ ê²°ë¡ : "ì§„ì§œ ì¤‘ìš”" vs "ê°œë…ë§Œ" âœ…]
          * âœ… ì§„ì§œ ì¤‘ìš” â­ğŸ”¥
          * - ì „ì—­ ì»¨í…ìŠ¤íŠ¸ 1ê°œ + í•¨ìˆ˜ í˜¸ì¶œë§ˆë‹¤ í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒˆë¡œ ìƒê¸´ë‹¤.
          * - ì½œ ìŠ¤íƒì€ push/pop(ìŒ“ì˜€ë‹¤ê°€ ë¹ ì§)ì´ë©° "ì§€ê¸ˆ ì‹¤í–‰ ì¤‘"ì„ ë³´ì—¬ì¤€ë‹¤.
          * - í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ë§¤ í˜¸ì¶œë§ˆë‹¤ íŒŒë¼ë¯¸í„°/ì§€ì—­ë³€ìˆ˜ë¥¼ "ë…ë¦½ì ìœ¼ë¡œ" ê°€ì§„ë‹¤.
          *
          * â˜‘ï¸ ê°œë…ë§Œ ì´í•´í•˜ë©´ ì¶©ë¶„
          * - ìƒì„± ë‹¨ê³„/ì‹¤í–‰ ë‹¨ê³„(í˜¸ì´ìŠ¤íŒ…)ëŠ” ë””ë²„ê¹…ìš© ê°œë…: ì™œ undefinedì¸ì§€ ì„¤ëª…í•´ì¤Œ.
          *
          * [í•µì‹¬ì •ë¦¬(ë¨¼ì € ì½ê¸°) ğŸ”¥]
          * 1) ì „ì—­ ì»¨í…ìŠ¤íŠ¸(Global EC): ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ ì‹œ 1ë²ˆ ìƒì„±
          * 2) í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸(Function EC): í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ ìƒì„±
          * 3) ì»¨í…ìŠ¤íŠ¸ëŠ” ì½œ ìŠ¤íƒì— pushë˜ê³ , í•¨ìˆ˜ê°€ ëë‚˜ë©´ popëœë‹¤.
          * 4) varëŠ” ìƒì„± ë‹¨ê³„ì—ì„œ "ì„ ì–¸ ë“±ë¡ + undefined ì´ˆê¸°í™”"ê°€ ì¼ì–´ë‚œë‹¤(í˜¸ì´ìŠ¤íŒ… ì²´ê° í¬ì¸íŠ¸)
          */

         console.clear?.();

         // ------------------------------------------------------------
         // [Utility] ì½˜ì†”ì—ì„œ ìŠ¤íƒì²˜ëŸ¼ ë³´ì´ê²Œ í•˜ëŠ” ë„êµ¬
         // ------------------------------------------------------------
         const line = (n = 78) => '='.repeat(n);
         const section = (title) => {
            console.log(`\n${line()}`);
            console.log(`â–¶ ${title}`);
            console.log(line());
         };

         function enter(name, extra = '') {
            console.group(`â–¶ ENTER: ${name} ${extra}`);
         }

         function exit(name, extra = '') {
            console.log(`â—€ EXIT: ${name} ${extra}`);
            console.groupEnd();
         }

         // ------------------------------------------------------------
         // 0) [í˜¸ì´ìŠ¤íŒ… ë¯¸ë‹ˆ ì²´í—˜] ìƒì„± ë‹¨ê³„ vs ì‹¤í–‰ ë‹¨ê³„
         // ------------------------------------------------------------
         {
            section('0. [ë¯¸ë‹ˆ] Hoisting(í˜¸ì´ìŠ¤íŒ…) ì²´ê°: varëŠ” undefined');

            // ì™œ undefinedê°€ ëœ¨ë‚˜?
            // - (ìƒì„± ë‹¨ê³„) varë¡œ ì„ ì–¸ëœ ë³€ìˆ˜ëŠ” "ì„ ì–¸ ë“±ë¡" + "undefined ì´ˆê¸°í™”"ê°€ ë¨¼ì € ëœë‹¤.
            // - (ì‹¤í–‰ ë‹¨ê³„) ê·¸ ë‹¤ìŒì— ì‹¤ì œ í• ë‹¹ì´ ì¼ì–´ë‚œë‹¤.
            console.log('before assignment, tempVar =', tempVar); // undefined
            var tempVar = 123;
            console.log('after assignment, tempVar =', tempVar); // 123

            // let/constëŠ” TDZ ë•Œë¬¸ì— ì„ ì–¸ ì „ ì ‘ê·¼ ì‹œ ì—ëŸ¬ê°€ ë‚˜ì§€ë§Œ,
            // ì—¬ê¸°ì„œëŠ” ì‹¤í–‰ì´ ëŠê¸°ëŠ” ê±¸ í”¼í•˜ë ¤ê³  try/catchë¡œë§Œ "ì¡´ì¬"ë¥¼ ë³´ì—¬ì¤€ë‹¤.
            try {
               // eslint-disable-next-line no-use-before-define
               console.log(tempLet);
            } catch (e) {
               console.log('let TDZ error(ì •ìƒ):', e.message);
            }
            let tempLet = 10;
            console.log('after let assignment, tempLet =', tempLet);
         }

         // ------------------------------------------------------------
         // 1) [ì „ì—­ ì»¨í…ìŠ¤íŠ¸] ì „ì—­ ë³€ìˆ˜/í•¨ìˆ˜ ì„ ì–¸
         // ------------------------------------------------------------
         {
            section('1. [ì „ì—­ ì»¨í…ìŠ¤íŠ¸] ì „ì—­ ë³€ìˆ˜/í•¨ìˆ˜ ì¤€ë¹„');

            // ì „ì—­ ì»¨í…ìŠ¤íŠ¸ì— ë“±ë¡ë˜ëŠ” ê²ƒë“¤:
            // - var ë³€ìˆ˜(ì„ ì–¸ + undefined ì´ˆê¸°í™”)
            // - í•¨ìˆ˜ ì„ ì–¸(ì „ì²´ ë“±ë¡)
            // - let/constëŠ” ë³„ë„ ì˜ì—­ì—ì„œ ê´€ë¦¬ë˜ë©° TDZ ê·œì¹™ ì ìš©
            var number1 = 20;
            var number2 = 30;

            // í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ ìƒì„± ë‹¨ê³„ì—ì„œ "í•¨ìˆ˜ ìì²´"ê°€ ë“±ë¡ë˜ì–´, ì„ ì–¸ ìœ„ì¹˜ ì´ì „ì—ë„ í˜¸ì¶œ ê°€ëŠ¥
            function multiply(x, y) {
               // ------------------------------------------------------------
               // 2) [í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸] multiply í˜¸ì¶œ ì‹œì 
               // ------------------------------------------------------------
               enter('multiply()', `(x=${x}, y=${y})`);

               // í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸(Function EC) ì•ˆì—ëŠ” ë§¤ í˜¸ì¶œë§ˆë‹¤ ë…ë¦½ì ìœ¼ë¡œ:
               // - ë§¤ê°œë³€ìˆ˜ x, y
               // - ì§€ì—­ ë³€ìˆ˜ result
               // - arguments(ë¸Œë¼ìš°ì €ì—ì„œëŠ” Arguments ê°ì²´)
               // - this(ì¼ë°˜ í•¨ìˆ˜ í˜¸ì¶œì´ë¼ë©´ ë³´í†µ window, strictë©´ undefined)

               console.log('params:', { x, y });

               // ì§€ì—­ ë³€ìˆ˜(í•¨ìˆ˜ ìŠ¤ì½”í”„)
               var result = x * y;

               console.log('local var result:', result);

               // ë°˜í™˜: í•¨ìˆ˜ê°€ ëë‚˜ë©´ì„œ ì»¨í…ìŠ¤íŠ¸ê°€ pop(ì œê±°)
               exit('multiply()', `(return ${result})`);
               return result;
            }

            console.log('ì „ì—­ ê°’:', { number1, number2 });

            // ------------------------------------------------------------
            // 3) [ì½œ ìŠ¤íƒ] í•¨ìˆ˜ í˜¸ì¶œ â†’ ì»¨í…ìŠ¤íŠ¸ push/pop
            // ------------------------------------------------------------
            section(
               '2. [ì½œ ìŠ¤íƒ] multiplyë¥¼ 2ë²ˆ í˜¸ì¶œ(ê° í˜¸ì¶œì€ ë…ë¦½ ì»¨í…ìŠ¤íŠ¸)',
            );

            // í˜¸ì¶œ 1: number1, number2 ì‚¬ìš©
            var result1 = multiply(number1, number2);
            console.log('result1(20*30):', result1);

            // í˜¸ì¶œ 2: ë¦¬í„°ëŸ´ ê°’ ì‚¬ìš©
            var result2 = multiply(100, 200);
            console.log('result2(100*200):', result2);

            // ì™œ ë‘˜ì´ ë…ë¦½ì¸ê°€?
            // - ì²« ë²ˆì§¸ í˜¸ì¶œì˜ x,y,resultëŠ” ì´ë¯¸ ì»¨í…ìŠ¤íŠ¸ popìœ¼ë¡œ ì‚¬ë¼ì§
            // - ë‘ ë²ˆì§¸ í˜¸ì¶œì´ ìƒˆ ì»¨í…ìŠ¤íŠ¸ë¡œ ë‹¤ì‹œ x,y,resultë¥¼ ë§Œë“ ë‹¤
            section('3. [í™•ì¸] ì „ì—­ì—ëŠ” result1/result2ë§Œ ë‚¨ëŠ”ë‹¤');
            console.log('ì „ì—­ì— ë‚¨ì€ ê²ƒ:', { result1, result2 });

            // ------------------------------------------------------------
            // 4) [í•µì‹¬ì •ë¦¬] 10~12ê°œ ì²´í¬ë¦¬ìŠ¤íŠ¸
            // ------------------------------------------------------------
            section('4. [í•µì‹¬ì •ë¦¬] ì²´í¬ë¦¬ìŠ¤íŠ¸ 12ê°œ âœ…');

            const checklist = [
               'ì „ì—­ ì»¨í…ìŠ¤íŠ¸ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì‹œì‘ ì‹œ 1ë²ˆ ìƒì„±ëœë‹¤. ğŸ”¥',
               'í•¨ìˆ˜ í˜¸ì¶œë§ˆë‹¤ í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ê°€ ìƒˆë¡œ ìƒì„±ëœë‹¤. ğŸ”¥',
               'ì»¨í…ìŠ¤íŠ¸ëŠ” ì½œ ìŠ¤íƒì— pushë˜ê³ , ì¢…ë£Œë˜ë©´ popëœë‹¤. ğŸ”¥',
               'í•¨ìˆ˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ë§¤ í˜¸ì¶œë§ˆë‹¤ ë§¤ê°œë³€ìˆ˜/ì§€ì—­ë³€ìˆ˜ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê°€ì§„ë‹¤. â­',
               'multiplyì˜ x/y/resultëŠ” í˜¸ì¶œì´ ëë‚˜ë©´ ìŠ¤íƒì—ì„œ ì œê±°ëœë‹¤. â­',
               'varëŠ” ìƒì„± ë‹¨ê³„ì—ì„œ undefinedë¡œ ì´ˆê¸°í™”ë  ìˆ˜ ìˆë‹¤(í˜¸ì´ìŠ¤íŒ… ì²´ê°). ğŸ”¥',
               'let/constëŠ” TDZë¡œ ì„ ì–¸ ì „ ì ‘ê·¼ì´ ë§‰íŒë‹¤(ReferenceError). ğŸ”¥',
               'í•¨ìˆ˜ ì„ ì–¸ë¬¸ì€ ìƒì„± ë‹¨ê³„ì—ì„œ í•¨ìˆ˜ ìì²´ê°€ ë“±ë¡ëœë‹¤(ì„ ì–¸ ì „ í˜¸ì¶œ ê°€ëŠ¥). ğŸ”¥',
               'ì „ì—­ì—ëŠ” í˜¸ì¶œ ê²°ê³¼(result1/result2)ë§Œ ë‚¨ê³ , í•¨ìˆ˜ ë‚´ë¶€ ë³€ìˆ˜ëŠ” ë‚¨ì§€ ì•ŠëŠ”ë‹¤. â­',
               'ìŠ¤ì½”í”„ ì²´ì¸ì€ ë³€ìˆ˜/ì‹ë³„ì íƒìƒ‰ ê·œì¹™ì´ê³ , ì½œ ìŠ¤íƒì€ ì‹¤í–‰ íë¦„(í˜¸ì¶œ ìˆœì„œ)ì´ë‹¤. â­',
               'ë””ë²„ê¹…ì€ "ì–´ë””ì„œ í˜¸ì¶œëëŠ”ê°€"(ìŠ¤íƒ) + "ì–´ë””ì„œ ì„ ì–¸ëëŠ”ê°€"(ìŠ¤ì½”í”„) ê°™ì´ ë³¸ë‹¤. ğŸ›¡ï¸',
               'ì‹¤ë¬´ì—ì„œëŠ” ì½œ ìŠ¤íƒ overflow(ë¬´í•œ ì¬ê·€) ê°™ì€ ë¬¸ì œë„ ì´ ê°œë…ìœ¼ë¡œ ì¡ëŠ”ë‹¤. ğŸ›¡ï¸',
            ];

            checklist.forEach((item, idx) => {
               console.log(`${String(idx + 1).padStart(2, '0')}. ${item}`);
            });

            console.log(`\n${line()}`);
            console.log('Execution Context(multiply) í…œí”Œë¦¿ ë! âœ…');
            console.log(line());
         }
      </script>
   </body>
</html>
