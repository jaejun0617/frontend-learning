/**
 * =====================================================================
 * JavaScript Basic: 형 변환 (Type Conversion) - Executable Note
 * =====================================================================
 * ✅ 핵심 요약
 * 1. 묵시적 변환 (Implicit): JS 엔진이 알아서 타입을 바꿈. (편하지만 버그의 원흉 🔥)
 * 2. 명시적 변환 (Explicit): 개발자가 의도를 가지고 타입을 바꿈. (권장 ⭐)
 *
 * ❓ Q. 왜 형 변환을 써야 하나요? 처음부터 잘 만들면 안 되나요?
 * A. 좋은 질문입니다! 하지만 웹 환경상 어쩔 수 없는 경우가 많습니다.
 *    1) <input> 태그에 사용자가 숫자를 입력해도 무조건 "문자열(String)"로 들어옵니다.
 *    2) 서버 API에서 가끔 숫자를 "문자열"로 보내주기도 합니다. ("price": "1000")
 *    3) 브라우저 주소창(?id=123)의 값도 무조건 문자열입니다.
 *    👉 그래서 "받은 뒤에 숫자로 바꾸는 작업"이 필수입니다!
 */

console.clear?.();
const line = () => console.log('-------------------------------------');

// =====================================================================
// 1) 묵시적 형 변환 (Implicit) - "JS의 과한 친절" 😈
// =====================================================================
{
   console.log('1. 묵시적 형 변환 (함정 카드)');

   let num = 10;
   let str = '20';

   // 🔥 함정: 더하기(+)는 문자열이 우선권을 가짐
   // 숫자를 문자로 바꿔서 연결해버림 "10" + "20" = "1020"
   const result = num + str;
   console.log(`10 + '20' = ${result} (Type: ${typeof result})`);

   // 💡 반전: 빼기, 곱하기, 나누기는 숫자가 우선권을 가짐
   // "20"을 숫자로 바꿔서 계산해버림
   console.log(`'20' - 10 = ${str - num}`); // 10
}

line();

// =====================================================================
// 2) 명시적 형 변환 (Explicit) - "개발자의 의도" ⭐
// =====================================================================
{
   console.log('2. 명시적 형 변환 (권장)');

   let str1 = '10';

   // 방법 1: Number() 함수 사용 (가장 정석)
   let strToNum = Number(str1);
   console.log(`Number('10') + 10 = ${strToNum + 10}`); // 20

   // 방법 2: parseInt() - "숫자만 쏙 빼오기"
   // "10px", "10개" 처럼 뒤에 문자가 섞여 있을 때 유용함
   let str2 = '10개';

   console.log(`Number('10개') = ${Number(str2)}`); // NaN (엄격함)
   console.log(`parseInt('10개') = ${parseInt(str2)}`); // 10 (유연함) ⭐

   // ⚡ 실무 팁 (단항 연산자)
   // 변수 앞에 '+'를 붙이면 바로 숫자가 됩니다. (리액트에서 많이 씀)
   console.log(`+'20' + 10 = ${+'20' + 10}`); // 30
}

line();

// =====================================================================
// 3) 숫자 -> 문자열 변환
// =====================================================================
{
   console.log('3. 숫자 -> 문자열');

   let num1 = 20;

   // 방법 1: String() 함수
   let numToStr = String(num1);

   // 방법 2: .toString() 메서드
   let numToStr2 = num1.toString();

   // 방법 3: 빈 문자열 더하기 (가장 빠르고 많이 씀)
   let numToStr3 = num1 + '';

   console.log(typeof numToStr, typeof numToStr2, typeof numToStr3);
}
